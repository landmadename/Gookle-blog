{"version":3,"sources":["reducers/reducer.js","components/Monitor.js","config/config.js","components/Popa.js","components/loadData.js","components/stick_of_haws.js","components/Card.js","components/Deck.js","components/Decks.js","components/Goo.js","components/One.js","components/App.js","index.js"],"names":["initialState","album","boxes","gookles","wheight","window","innerHeight","wwidth","innerWidth","debug","mx","level","pageUrl","connect","state","props","style","position","config","site","default_image","root_box_id","PopaStyle","styled","div","dispatch","setPageUrl","data","type","payload","useSpring","y","trans","setTrans","useState","content","setContent","disappearOnPopstate","history","back","useEffect","addEventListener","setTimeout","url","console","log","fetch","then","res","text","result","replace","error","loadGooklePage","removeEventListener","transform","interpolate","zIndex","width","height","borderRadius","onClick","id","dangerouslySetInnerHTML","__html","overflow","createHaw","box","face","from","this","spring","Controller","set","to","update","start","i","x","rot","scale","bind","r","s","src","maxWidth","maxHeight","filter","draggable","addToCollection","pushGookles","moveDeck","shiftLevel","collectionName","xIndex","yIndex","active","setActive","Set","stick","setStick","gone","xy","indexPosition","setIndexPosition","mxNow","useRef","indexNow","pullDown","Math","random","delay","transIndex","updateGookles","Object","keys","length","boxName","offset","times","loadData","path","gookle","json","items","push","meta","html_url","image","boxId","order_by_latest","loadGookles","useDrag","index","args","down","tap","movement","xDelta","yDelta","direction","xDir","yDir","velocity","horizontalDir","leftGone","downGone","current","dir","add","fn","isGone","has","clear","undefined","friction","tension","initial","posToId","map","tempStick","assign","updated","haw","boxNames","key","animated","Decks","name","Component","sendMx","e","Date","now","latestTapTime","xAs","parseInt","trail","getValue","filterTaps","fast","slow","mass","useTrail","onMouseDown","onMouseLeave","in","stdDeviation","values","className","One","App","setAlbum","download_url","loadAlbum","setBoxes","counter","title","loadBoxes","store","createStore","existId","indexOf","t","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2cf8f523.chunk.js","sourcesContent":["const debug = 0\nconst rate = debug === 0? 1:3\n\nconst initialState = {\n    album: {},\n    boxes: {},\n    gookles: {},\n    wheight: window.innerHeight/rate,\n    wwidth: window.innerWidth/rate,\n    debug: debug,\n    mx: 0,\n    level: 0,\n    pageUrl: \"\"\n}\n\nexport default (state = initialState, { type, payload }) => {\n    switch (type) {\n        case 'pushGookles':\n            const boxName = Object.keys(payload)[0]\n            let gookles = Object.assign({}, state.gookles)\n            const data = payload[boxName]\n            let existId = []\n            if (gookles[boxName] == null) {\n                existId = []\n                gookles[boxName] = []\n            } else {\n                existId = gookles[boxName].map((i) => i.id)\n            }\n            \n            for (let i = 0; i < data.length; i++) {\n                if (existId.indexOf(data[i].id)) {\n                    gookles[boxName].push(data[i])\n                }                \n            }\n            gookles = {gookles: gookles}\n            return Object.assign({}, state, gookles)\n\n        case 'setAlbum':\n            return Object.assign({}, state, payload)\n\n        case 'setBoxes':\n            return Object.assign({}, state, payload)\n    \n        case 'Mx':\n            return Object.assign({}, state, payload)\n\n        case 'moveDeck':\n            let boxes = Object.assign({}, state.boxes)\n            // console.log(payload)\n            if (payload.dir === \"left\") {\n                Object.keys(boxes).map(box => {\n                    if (boxes[box].yIndex === payload.index) {\n                        boxes[box].xIndex = boxes[box].xIndex - 1\n                    }\n                    return 0\n                })\n            } else if (payload.dir === \"right\") {\n                Object.keys(boxes).map(box => {\n                    if (boxes[box].yIndex === payload.index) {\n                        boxes[box].xIndex = boxes[box].xIndex + 1\n                    }\n                    return 0\n                })\n            } else if (payload.dir === \"down\") {\n                let t = 0\n                Object.keys(boxes).map(box => {\n                    if (boxes[box].yIndex === 0) {\n                        t = boxes[payload.collectionName].yIndex\n                        boxes[payload.collectionName].yIndex = boxes[box].yIndex\n                        boxes[box].yIndex = t\n\n                        t = boxes[payload.collectionName].xIndex\n                        boxes[payload.collectionName].xIndex = 0\n                        boxes[box].xIndex = t\n                    }\n                    return 0\n                })\n            }\n            boxes = {boxes: boxes}\n            return Object.assign({}, state, boxes)\n        case 'shiftLevel':\n            return Object.assign({}, state, {level: payload})\n        case 'setPageUrl':\n            return Object.assign({}, state, {pageUrl: payload})\n        default:\n            return state\n    }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\n\n\nfunction Monitor(props) {\n    return (\n        <h2 style={{ position: 'absolute'}}>\n            {props.mx}\n        </h2>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      mx: state.mx\n    }\n  }\nexport default connect(mapStateToProps)(Monitor)\n","const config = {\n    site: 'http://blog.lamony.cn',\n    default_image: 'http://blog.lamony.cn/media/original_images/lalala.jpg',\n    root_box_id: 4\n}\n\nexport default config","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { connect } from 'react-redux'\nimport { useSpring, animated} from 'react-spring'\nimport { loadGooklePage } from './loadData'\nimport \"./misty-light-windows.css\"\nimport \"./gookle_page.css\"\n\nconst PopaStyle = styled.div`\n    position: absolute;\n    border-radius: 10px;\n    padding: 10px;\n    width: ${props => props.wwidth - props.wheight * 0.05 - 20}px;\n    height: ${props => props.wheight - props.wheight * 0.05 - 20}px;\n    z-index: 100;\n    transform: translate3d(\n        ${props => props.wheight * 0.025}px,\n        ${props => props.wheight * 0.025}px,\n        0\n    );\n    background-color: white;\n    box-shadow: 0 12.5px 30px 80px rgba(50, 50, 73, 0.6),\n    0 10px 10px -10px rgba(50, 50, 73, 0.3);\n`;\n\nfunction Popa(props) {\n    const {wheight, wwidth, pageUrl} = props;\n    const [trans, setTrans] = useSpring(()=>({y:wheight*(-1.3)}))\n    const [content, setContent] = useState(\"\")\n    \n    const transy = (y)=>`translate3d(0,${y}px,0)`\n\n    const disappearOnPopstate = () => {\n        if (props.pageUrl !== '') {\n            props.setPageUrl('')\n        } else {\n            window.history.back()\n        }\n    }\n\n    useEffect(() => {\n        \n        window.addEventListener(\"popstate\", disappearOnPopstate, false)\n        if (pageUrl === '') {\n            setTrans(()=>({y:wheight*(-1.3)}))\n            setTimeout(() => {\n                setContent('')\n            }, 500)   \n        } else {\n            loadGooklePage(pageUrl,setContent)\n            setTrans(()=>({y:0}))\n        }\n        return () => {\n            window.removeEventListener(\"popstate\", disappearOnPopstate, false)\n        }    \n    }, [pageUrl])\n\n    return (\n        <animated.div\n            style={{\n                transform: trans.y.interpolate(transy),\n                position: \"absolute\",\n                zIndex: 100,\n                width: wwidth,\n                height: wheight,\n                borderRadius: \"10px\"\n            }}\n            onClick={()=>{\n                props.setPageUrl('')\n            }}\n        >\n            <PopaStyle\n                wwidth={wwidth}\n                wheight={wheight}     \n                style={{\n                    \n                }}          \n            >\n                <div id=\"content\" \n                    dangerouslySetInnerHTML={{__html: content}}\n                    style={{\n                        overflow: \"scroll\",\n                        width: \"100%\",\n                        height: \"100%\",\n                    }}\n                >\n                \n                </div>\n                {/* <iframe \n                    style={{\n                        height:\"100%\", \n                        width:\"100%\", \n                        border:\"0px\",\n                        borderRadius:\"10px\"\n                    }} \n                    src={pageUrlToShow}\n                >\n\n                </iframe> */}\n            </PopaStyle>\n        </animated.div>\n    )\n}\n\n\nconst setPageUrl = (payload) => ({\n    type: \"setPageUrl\",\n    payload\n})\n\nconst mapStateToProps = (state) => ({\n    wheight: state.wheight,\n    wwidth: state.wwidth,\n    pageUrl: state.pageUrl\n})\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setPageUrl: (data) => {\n            dispatch(setPageUrl(data))\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Popa)\n","import config from '../config/config'\n\nexport function loadAlbum(setAlbum) {\n  const data = {}\n  fetch(config.site + \"/api/v2/images/?limit=200\")\n  .then(res => res.json())\n  .then(\n    (result) => {\n      for(let i in result.items){\n        data[result.items[i].id] = config.site + result.items[i].meta.download_url\n      }\n      setAlbum(data) \n    },\n    (error) => {\n        console.log(error)\n    }\n  )\n}\n\n\nexport function loadBoxes(setBoxes, pushGookles) {\n  const data = {}\n  let gookle = {}\n  let counter = 0\n\n  // initial latest box\n  data['Latest'] = {\n    id: -1,\n    order_by_latest: true,\n    xIndex: 0,\n    yIndex: 0\n  }\n  gookle[\"Latest\"] = [{\n    id: -1,\n    url: null,\n    face: config.default_image\n  }]\n  pushGookles(gookle)\n\n  // load boxes and initial gookle\n  fetch(config.site + \"/api/v2/pages/?type=home.BoxPage&child_of=\" + config.root_box_id + \"&fields=image,order_by_latest&limit=200\")\n  .then(res => res.json())\n  .then(\n    (result) => {\n      for(let i in result.items){\n        // console.log(result.items[i])\n        data[result.items[i].title] = {\n          id: result.items[i].id,\n          order_by_latest: result.items[i].order_by_latest,\n          xIndex: counter++,\n          yIndex: -1\n        }\n        // initial gookles\n        gookle = {}\n        gookle[result.items[i].title] = [{\n          id: -1,\n          url: config.site + result.items[i].image.meta.html_url,\n          face: config.site + result.items[i].image.meta.download_url\n        }]\n        pushGookles(gookle)\n      }\n      setBoxes(data)\n    },\n    (error) => {\n        console.log(error)\n    }\n  )\n}\n\n\n\nexport function loadGookles(boxName, pushGookles, boxes, album, offset, times) {\n  function loadData(path) {\n    const data = []\n    let gookle = {}\n    fetch(path)\n    .then(res => res.json())\n    .then(\n      (result) => {\n        for(let i in result.items){\n          data.push({\n            id: result.items[i].id,\n            url: result.items[i].meta.html_url,\n            face: album[result.items[i].image.id]\n          })\n          gookle[boxName] = data\n          pushGookles(gookle)\n        }\n      },\n      (error) => {\n        console.log(error)\n      }\n    )  \n  }  \n  const boxId = boxes[boxName].id\n  let path = ''\n  offset = offset===-1 ? 0: offset\n\n  switch (offset) {\n    case 0:\n      if (boxId === -1) {\n        path = config.site + '/api/v2/pages/?type=home.GooklePage&limit=200&fields=image,show_in_latest,show_in_the_top_of_deck,show_in_the_top_of_latest&offset=' + offset + '&order=' + (boxes[boxName].order_by_latest ? '-first_published_at' : 'first_published_at') + '&show_in_latest=true'\n      } else {\n        path = config.site + \"/api/v2/pages/?type=home.GooklePage&limit=200&fields=image,show_in_latest,show_in_the_top_of_deck,show_in_the_top_of_latest&child_of=\" + boxId + \"&offset=\" + offset + '&order=' + (boxes[boxName].order_by_latest ? '-first_published_at' : 'first_published_at') + '&show_in_the_top_of_deck=true'\n      }\n      loadData(path)\n    default:\n      if (boxId === -1) {\n        path = config.site + '/api/v2/pages/?type=home.GooklePage&limit=200&fields=image,show_in_latest,show_in_the_top_of_deck,show_in_the_top_of_latest&offset=' + offset + '&order=' + (boxes[boxName].order_by_latest ? '-first_published_at' : 'first_published_at') + '&show_in_latest=true'\n      } else {\n        path = config.site + \"/api/v2/pages/?type=home.GooklePage&limit=200&fields=image,show_in_latest,show_in_the_top_of_deck,show_in_the_top_of_latest&child_of=\" + boxId + \"&offset=\" + offset + '&order=' + (boxes[boxName].order_by_latest ? '-first_published_at' : 'first_published_at') + '&show_in_the_top_of_deck=false'\n      }\n      loadData(path)\n      break;\n  }\n}\n\nexport function loadGooklePage(url, setContent) {\n  let data = \"\"\n  console.log(url)\n  fetch(url)\n  .then(res => res.text())\n  .then(\n    (result) => {\n      data = result\n      data = data.replace(/src=\"\\//g, 'src=\"http://blog.lamony.cn/')\n      data = data.replace(/<link .*?>/g, '')\n      setContent(data)\n    },\n    (error) => {\n        console.log(error)\n    }\n  )\n}","import { Controller } from \"react-spring\";\n\nexport function createStick() {\n    const stick = []\n    return stick\n}\n\nexport function createHaw(box, position, id, url, face, from) {\n    this.box = box\n    this.position = position\n    this.id = id\n    this.url = url\n    this.face = face\n    this.spring = new Controller({ from })\n    this.set = (to) => {\n        this.spring.update(to).start();\n    }\n}","import React from 'react'\nimport styled from 'styled-components'\nimport { animated, interpolate } from \"react-spring\";\nimport { connect } from 'react-redux'\n// import Parser from 'html-react-parser';\n\nfunction Card(props) {\n    const {wheight, wwidth} = props;\n    const {face, i, x, y, rot, scale, bind} = props;\n\n    return (\n        <animated.div\n            {...bind(i)}\n            style={{\n                transform: interpolate(\n                    [x, y, rot, scale],\n                    (x, y, r, s) => `translate3d(${x}px,${y}px,0)  rotateZ(${r}deg) scale(${s}) translate3d(-50%,-50%,0)`\n                ),\n                position: \"absolute\",\n            }}\n        >\n            <img src={face} id={i} style={{\n                width:\"auto\", \n                height:\"auto\", \n                maxWidth:wwidth<wheight ? wwidth*0.9 : wheight*0.8,\n                maxHeight:wheight*0.8,\n                filter:\"drop-shadow(10px 11.5px 8px rgba(50, 50, 73, 0.6))\"\n                }} draggable=\"false\"/>\n        </animated.div>\n    )\n}\n\n\nconst mapStateToProps = (state) => ({\n    wheight: state.wheight,\n    wwidth: state.wwidth\n})\n\nexport default connect(mapStateToProps)(Card)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useSpring, animated} from 'react-spring'\nimport { useDrag } from 'react-use-gesture'\n\nimport { loadGookles } from \"./loadData\"\nimport {createHaw} from './stick_of_haws'\nimport Card from './Card'\nimport './Deck.scss'\n\n\n\nfunction Deck(props) {\n    const {collectionName} = props;\n    const {wheight, wwidth} = props;\n    const {xIndex, yIndex, level} = props;\n    const {debug} = props;\n\n    const [active, setActive] = useState(yIndex >= 0)\n    const [stick, setStick] = useState(() => new Set())\n    const [gone] = useState(() => new Set());\n    const [indexPosition, setIndexPosition] = useSpring(() => ({xy:[xIndex, (yIndex+level)]}))\n\n    const mxNow = useRef(0)\n    const indexNow = useRef(0)\n    const pullDown = useRef(true)\n    const from = {x: 10000000, rot: 0, scale: 1.1, y: 0 }\n    const to = i => ({\n        x: active ? wwidth * i: 0,\n        y: 0,\n        scale: 1,\n        rot: -10 + Math.random() * 20,\n        delay: i * 100\n      });\n    const transIndex = (x, y)=>`translate3d(\n        ${wwidth * 0.5 + wwidth * (x)}px, \n        ${wheight * 0.5 + wheight * (y + debug)}px,\n        0\n        )`\n\n\n    function updateGookles() {\n        if (Object.keys(stick).length-1 - (-xIndex) < 2 && active) {\n            console.log(stick)\n            console.log('Load Gookles')\n            loadGookles(collectionName, props.pushGookles, props.boxes, props.album, Object.keys(stick).length-1)\n        }\n    }\n\n    const bind = useDrag(\n        ({\n          args: [index],\n          down,\n          tap,\n          movement: [xDelta, yDelta],\n          direction: [xDir, yDir],\n          velocity\n        }) => {\n            if (tap) {\n                console.log(\"hi\")\n                props.setPageUrl(stick[index].url)\n            }\n            console.log(\"start\")\n            const horizontalDir = xDir < 0 ? -1 : 1;\n            const verticalDir = yDir < 0 ? -1 : 1;\n            const leftGone = velocity > 0.2 && horizontalDir === -1\n            const downGone = velocity > 0.2 && verticalDir === 1;\n      \n            indexNow.current = index\n            if (!down && leftGone) {\n                switch (yIndex) {\n                    case -1:\n                        props.moveDeck({collectionName:props.collectionName, index:-1, dir:\"left\"});\n                        break;\n                    case 0:\n                        props.moveDeck({collectionName:props.collectionName, index:0, dir:\"left\"});\n                        gone.add(index);\n                        break;\n                    case 1:\n                        props.moveDeck({collectionName:props.collectionName, index:1, dir:\"left\"});\n                        gone.add(index);\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else if (!down && downGone){\n                switch (yIndex) {\n                    case -1:\n                        pullDown.current = true\n                        props.moveDeck({collectionName:props.collectionName, index:-1, dir:\"down\"});\n                        setTimeout(() => {\n                            props.shiftLevel(0)\n                        }, 300);            \n                        break;\n                    case 0:\n                        addToCollection({collectionName:props.collectionName, xIndex, fn:\"plus\", dir:\"down\"});\n                        break;\n                    case 1:\n                        break;\n                    default:\n                        break;\n                }\n            }\n\n            const isGone = gone.has(index);\n            const x = down ? xDelta : active? (stick[indexNow.current].position) * wwidth : 0;\n            const y = isGone ? -0 : down ? yDelta : 0;\n            const rot = (isGone ? horizontalDir * 10 * velocity : 0);\n            const scale = down ? 1.1 : 1;\n\n            if (isGone) {\n                gone.clear()\n            }\n\n            stick[index].set({\n                x: x,\n                y: y,\n                rot: rot,\n                scale: scale,\n                delay: undefined,\n                config: { friction: 50, tension: down ? 800 : isGone ? 200 : 500 }\n                })\n            },\n            { initial: () => {\n                if (yIndex === -1) {\n                    return [0, 0]\n                } else {\n                    const posToId = {}\n                    Object.keys(stick).map(i =>{ posToId[stick[i].position]=stick[i].id})\n                    return [(stick[posToId[-xIndex]].position) * wwidth, 0]\n                }\n            } }\n        )\n\n    // 更新时加载gookle\n    useEffect(() => {\n        Object.keys(stick).map(i =>{\n            stick[i].set(to(stick[i].position))\n        })\n        updateGookles()\n    }, [active])\n\n    // 更新时增加卡牌\n    useEffect(() => {\n        console.log('gookles updated!')\n        const tempStick = Object.assign({}, stick)\n        let updated = false\n        props.gookles[collectionName].map(haw => {\n            if (tempStick[haw.id] == null) {\n                tempStick[haw.id] = \n                    new createHaw(\n                        collectionName, \n                        Object.keys(tempStick).length-1,\n                        haw.id, \n                        haw.url,\n                        haw.face, \n                        from\n                    )\n                tempStick[haw.id].set(to(tempStick[haw.id].position))\n                updated = true\n            }\n        })\n        if (updated) {\n            setStick(()=>tempStick)\n        }\n    }, [props.gookles])\n\n    // 移动摇杆的时候，移动牌组\n    useEffect(() => {\n        if ((yIndex+level)===0 && props.mx!==0) {\n            pullDown.current = false\n            if (yIndex===-1) {\n                const boxNames = []\n                Object.keys(props.boxes).map(box => {\n                    if (props.boxes[box].yIndex === -1) {\n                        boxNames.push(box)\n                    }\n                })\n                if (collectionName === boxNames[0]) {\n                    if (props.mx > mxNow.current) {\n                        props.moveDeck({collectionName:props.collectionName, index: yIndex, dir:\"left\"});\n                    } else {\n                        props.moveDeck({collectionName:props.collectionName, index: yIndex, dir:\"right\"});\n                    }        \n                }\n            } else {\n                if (props.mx > mxNow.current) {\n                    props.moveDeck({collectionName:props.collectionName, index: yIndex, dir:\"left\"});\n                } else {\n                    props.moveDeck({collectionName:props.collectionName, index: yIndex, dir:\"right\"});\n                }        \n            }\n        }\n        mxNow.current = props.mx\n    }, [props.mx])\n\n    // 当 xIndex yIndex\n    useEffect(() => {\n        setActive(yIndex >= 0)\n        setIndexPosition(() => ({xy:[xIndex, (yIndex+level)]}))\n        updateGookles()\n\n        // 当下拉牌组的时候刷新一下\n        if (pullDown.current) {\n            setTimeout(() => {\n                setIndexPosition(() => ({xy:[xIndex+0.001, (yIndex+level)+0.001]}))\n            }, 300);\n            setTimeout(() => {\n                setIndexPosition(() => ({xy:[xIndex, (yIndex+level)]}))\n            }, 300);\n        }\n    }, [level, xIndex, yIndex])\n\n    return Object.keys(stick).map(i => \n        <animated.div\n            key={stick[i].id}\n            style={{\n                transform: indexPosition.xy.interpolate(transIndex) \n            }}\n        >\n            <Card \n                face={stick[i].face}\n                url={stick[i].url}\n                i={stick[i].id}\n                x={stick[i].spring.animated.x}\n                y={stick[i].spring.animated.y}\n                rot={stick[i].spring.animated.rot}\n                scale={stick[i].spring.animated.scale}\n                bind={bind}\n            >\n            </Card>\n        </animated.div>\n    )\n}\n\n\n\n\n\nconst setPageUrl = (payload) => ({\n    type: \"setPageUrl\",\n    payload\n})\n\nconst pushGookles = (payload) => ({\n    type: \"pushGookles\",\n    payload\n})\n\nfunction moveDeck(data) {\n    return {\n        type: \"moveDeck\",\n        payload: data\n    }\n}\n  \nfunction addToCollection(data) {\n    console.log(data)\n    return {\n        type: \"addToCollection\",\n        payload: data\n    }\n}\n\nconst shiftLevel = (data) => ({\n    type: \"shiftLevel\",\n    payload: data\n})\n\nconst mapStateToProps = (state) => ({\n    wheight: state.wheight,\n    wwidth: state.wwidth,\n    debug: state.debug,\n\n    boxes: state.boxes,\n    album: state.album,\n    gookles: state.gookles,\n    level: state.level,\n\n    mx: state.mx\n})\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        pushGookles: data => {\n            dispatch(pushGookles(data))\n        },\n        moveDeck: data => {\n            dispatch(moveDeck(data))\n        },\n        addToCollection: data => {\n            dispatch(addToCollection(data))\n        },\n        shiftLevel: (data) => {\n            dispatch(shiftLevel(data))\n        },\n        setPageUrl: (data) => {\n            dispatch(setPageUrl(data))\n        },\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Deck)\n\n","import React, { Component } from 'react'\nimport Deck from './Deck'\nimport { connect } from 'react-redux'\n\nclass Decks extends Component {\n    render() {\n        console.log(\"Decks load\")\n\n        return Object.keys(this.props.boxes).map((name) => \n            <Deck \n                key={name}\n                collectionName={name} \n                xIndex={this.props.boxes[name].xIndex} \n                yIndex={this.props.boxes[name].yIndex}\n            />\n        )\n\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    boxes: state.boxes\n})\n\nconst mapDispatchToProps = {\n    \n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Decks)\n","import React from 'react'\nimport { useState, useRef } from 'react'\nimport { useTrail, animated, config } from 'react-spring'\nimport { useDrag } from 'react-use-gesture'\nimport { connect } from 'react-redux'\nimport './Goo.scss'\n\n\n\nfunction Goo(props) {\n    function handelDrag(e){\n        let down = e.down\n        let mx = e.movement[0]\n        let tap = e.tap\n        let span = 10\n        const scale = down ? 0.6 : 1;\n        console.log(down, tap)\n        if (tap) { \n            if (Date.now() - latestTapTime.current > 200) {\n                set({ xAs: [mx, 1] }) \n                props.shiftLevel((props.level+1)%2)\n            }\n            latestTapTime.current = Date.now()\n        } \n        if (true) {\n            // console.log(mx)\n            set({ \n                xAs: [down ? mx : wwidth*0.5, scale]\n            })\n            mx = down ? mx : wwidth*0.5\n            if (parseInt(mx%span)===0 || mx===wwidth*0.5) {\n                props.sendMx(parseInt((mx - wwidth*0.5)/span))\n            }    \n        }\n    }\n\n    const bind = useDrag(\n        handelDrag,\n        { \n            // axis: 'x', \n            initial: ()=>[parseInt(trail[0].xAs.getValue()[0]),580],\n            filterTaps: false\n        }\n    )\n\n    let wheight = window.innerHeight\n    let wwidth = window.innerWidth\n    const fast = { tension: 1200, friction: 40 }\n    const slow = { mass: 1, tension: 1200-400, friction: 50 }\n    const latestTapTime = useRef(Date.now())\n    const trans = (x,s) => `translate3d(${x}px,${wheight*0.9}px,0) translate3d(-50%,-50%,0) scale(${s})`\n\n    const [trail, set] = useTrail(6, () => ({ xAs: [wwidth*0.5, 1] , config: i => (i === 0 ? fast : slow)}))\n\n    // useEffect(() => {\n    //     let id = setInterval(() => {\n    //         set({ xAs: [parseInt(trail[0].xAs.getValue()[0] - wwidth*0.25), 0.6] })\n    //     }, 5000)\n    //     return () => {\n    //         clearInterval(id)\n    //     }\n    // }, [props.level])\n    \n    return (\n        <div onMouseDown={()=>{\n                set({ xAs: [parseInt(trail[0].xAs.getValue()[0]), 0.6] })}}\n            onMouseLeave={()=>{\n                set({ xAs: [parseInt(trail[0].xAs.getValue()[0]), 1] })}}\n            >\n            <svg style={{ position: 'absolute', width: 0, height: 0 }}>\n                <filter id=\"goo\">\n                    <feGaussianBlur in=\"SourceGraphic\" result=\"blur\" stdDeviation=\"13\" />\n                    <feColorMatrix in=\"blur\" values=\"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 25 -5\" />\n                </filter>\n            </svg>\n            <div className=\"hooks-main\">\n                {trail.map((props, index) => {\n                    if (!index) {\n                        return(\n                            <animated.div {...bind(index)} key={index} style={{ \n                                transform: props.xAs.interpolate(trans) }} />  \n                        )\n                    } else {\n                        return(\n                            <animated.div key={index} style={{ transform: props.xAs.interpolate(trans) }} />\n                        )\n                    }\n                })}\n            </div>\n        </div>\n    )\n}\n\nconst shiftLevel = (data) => ({\n    type: \"shiftLevel\",\n    payload: data\n})\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        sendMx: (mx) => {\n            dispatch({\n                type: \"Mx\",\n                payload: {mx: mx}\n            })\n        },\n        shiftLevel: (data) => {\n            dispatch(shiftLevel(data))\n        },\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    level: state.level,\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Goo)\n","import React, { Component } from 'react'\nimport Decks from './Decks'\nimport Goo from './Goo.js'\n\nexport default class One extends Component {\n    render() {\n        console.log(\"One load\")\n        return (\n            <div>\n                <Decks />\n                <Goo />\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport Monitor from './Monitor'\nimport Popa from './Popa'\nimport One from './One'\nimport { connect } from 'react-redux'\nimport { loadBoxes, loadAlbum } from \"./loadData\"\n\n\nclass App extends Component {\n    componentDidMount() {\n        loadAlbum(this.props.setAlbum)\n        loadBoxes(this.props.setBoxes, this.props.pushGookles)\n    }\n    render() {\n        if (Object.keys(this.props.boxes) == false || Object.keys(this.props.album) == false) {\n            return(\n                <div>loading</div>\n            )\n        } else {\n            return (\n                <div>\n                    {/* <Monitor /> */}\n                    <Popa />\n                    <One />\n                    {/* <Test/> */}\n                    \n                </div>\n            )\n        }\n    }\n}\n\n\nconst pushGookles = (payload) => ({\n    type: \"pushGookles\",\n    payload\n})\n\nconst setAlbum = (payload) => ({\n    type: \"setAlbum\",\n    payload: {album: payload}\n})\n\nconst setBoxes = (payload) => ({\n    type: \"setBoxes\",\n    payload: {boxes: payload}\n})\n\nconst mapStateToProps = (state) => ({\n    boxes: state.boxes,\n    album: state.album\n})\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setAlbum: data => {\n            dispatch(setAlbum(data))\n        },\n        setBoxes: data => {\n            dispatch(setBoxes(data))\n        },\n        pushGookles: data => {\n            dispatch(pushGookles(data))\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport reducer from './reducers/reducer'\nimport App from './components/App'\nimport './index.css'\n\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n "],"sourceRoot":""}